/*
Copyright (c) 2007-2009 IOLA and Ole Laursen

Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the "Software"), to deal in the Software without
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following
conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.
*/
/*
Axis Labels Plugin for flot.
http://github.com/markrcote/flot-axislabels

Original code is Copyright (c) 2010 Xuan Luo.
Original code was released under the GPLv3 license by Xuan Luo, September 2010.
Original code was rereleased under the MIT license by Xuan Luo, April 2012.

Improvements by Mark Cote.

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

 */
(function(g){g.color={};g.color.make=function(v,l,q,r){var h={};h.r=v||0;h.g=l||0;h.b=q||0;h.a=null!=r?r:1;h.add=function(d,l){for(var g=0;g<d.length;++g)h[d.charAt(g)]+=l;return h.normalize()};h.scale=function(d,l){for(var g=0;g<d.length;++g)h[d.charAt(g)]*=l;return h.normalize()};h.toString=function(){return 1<=h.a?"rgb("+[h.r,h.g,h.b].join()+")":"rgba("+[h.r,h.g,h.b,h.a].join()+")"};h.normalize=function(){function d(d,l,g){return l<d?d:l>g?g:l}h.r=d(0,parseInt(h.r),255);h.g=d(0,parseInt(h.g),255);
h.b=d(0,parseInt(h.b),255);h.a=d(0,h.a,1);return h};h.clone=function(){return g.color.make(h.r,h.b,h.g,h.a)};return h.normalize()};g.color.extract=function(v,l){var q;do{q=v.css(l).toLowerCase();if(""!=q&&"transparent"!=q)break;v=v.parent()}while(!g.nodeName(v.get(0),"body"));"rgba(0, 0, 0, 0)"==q&&(q="transparent");return g.color.parse(q)};g.color.parse=function(v){var l,q=g.color.make;if(l=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(v))return q(parseInt(l[1],10),parseInt(l[2],
10),parseInt(l[3],10));if(l=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(v))return q(parseInt(l[1],10),parseInt(l[2],10),parseInt(l[3],10),parseFloat(l[4]));if(l=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(v))return q(2.55*parseFloat(l[1]),2.55*parseFloat(l[2]),2.55*parseFloat(l[3]));if(l=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(v))return q(2.55*
parseFloat(l[1]),2.55*parseFloat(l[2]),2.55*parseFloat(l[3]),parseFloat(l[4]));if(l=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(v))return q(parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16));if(l=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(v))return q(parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16));v=g.trim(v).toLowerCase();if("transparent"==v)return q(255,255,255,0);l=C[v]||[0,0,0];return q(l[0],l[1],l[2])};var C={aqua:[0,255,255],azure:[240,255,255],beige:[245,
245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,
144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);
(function(g){function C(l,q,r,h){function d(a,f){f=[w].concat(f);for(var c=0;c<a.length;++c)a[c].apply(this,f)}function p(a){for(var f=[],c=0;c<a.length;++c){var b=g.extend(!0,{},j.series);null!=a[c].data?(b.data=a[c].data,delete a[c].data,g.extend(!0,b,a[c]),a[c].data=b.data):b.data=a[c];f.push(b)}y=f;f=y.length;c=[];b=[];for(a=0;a<y.length;++a){var e=y[a].color;null!=e&&(--f,"number"==typeof e?b.push(e):c.push(g.color.parse(y[a].color)))}for(a=0;a<b.length;++a)f=Math.max(f,b[a]+1);c=[];for(a=b=
0;c.length<f;)e=j.colors.length==a?g.color.make(100,100,100):g.color.parse(j.colors[a]),e.scale("rgb",1+0.2*(1==b%2?-1:1)*Math.ceil(b/2)),c.push(e),++a,a>=j.colors.length&&(a=0,++b);for(a=f=0;a<y.length;++a){b=y[a];null==b.color?(b.color=c[f].toString(),++f):"number"==typeof b.color&&(b.color=c[b.color].toString());if(null==b.lines.show){var l,e=!0;for(l in b)if(b[l]&&b[l].show){e=!1;break}e&&(b.lines.show=!0)}b.xaxis=C(E,B(b,"x"));b.yaxis=C(I,B(b,"y"))}l=function(a,b,c){b<a.datamin&&b!=-p&&(a.datamin=
b);c>a.datamax&&c!=p&&(a.datamax=c)};var k=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY,p=Number.MAX_VALUE,n,F,A,M,Q;g.each(m(),function(a,b){b.datamin=k;b.datamax=h;b.used=!1});for(a=0;a<y.length;++a)f=y[a],f.datapoints={points:[]},d(K.processRawData,[f,f.data,f.datapoints]);for(a=0;a<y.length;++a){var f=y[a],u=f.data,t=f.datapoints.format;if(!t){t=[];t.push({x:!0,number:!0,required:!0});t.push({y:!0,number:!0,required:!0});if(f.bars.show||f.lines.show&&f.lines.fill)t.push({y:!0,number:!0,
required:!1,defaultValue:0}),f.bars.horizontal&&(delete t[t.length-1].y,t[t.length-1].x=!0);f.datapoints.format=t}if(null==f.datapoints.pointsize){f.datapoints.pointsize=t.length;F=f.datapoints.pointsize;e=f.datapoints.points;insertSteps=f.lines.show&&f.lines.steps;f.xaxis.used=f.yaxis.used=!0;for(c=n=0;c<u.length;++c,n+=F){Q=u[c];var R=null==Q;if(!R)for(b=0;b<F;++b){A=Q[b];if(M=t[b])M.number&&null!=A&&(A=+A,isNaN(A)?A=null:Infinity==A?A=p:-Infinity==A&&(A=-p)),null==A&&(M.required&&(R=!0),null!=
M.defaultValue&&(A=M.defaultValue));e[n+b]=A}if(R)for(b=0;b<F;++b)A=e[n+b],null!=A&&(M=t[b],M.x&&l(f.xaxis,A,A),M.y&&l(f.yaxis,A,A)),e[n+b]=null;else if(insertSteps&&0<n&&null!=e[n-F]&&e[n-F]!=e[n]&&e[n-F+1]!=e[n+1]){for(b=0;b<F;++b)e[n+F+b]=e[n+b];e[n+1]=e[n-F+1];n+=F}}}}for(a=0;a<y.length;++a)f=y[a],d(K.processDatapoints,[f,f.datapoints]);for(a=0;a<y.length;++a){f=y[a];e=f.datapoints.points;F=f.datapoints.pointsize;Q=n=k;R=u=h;for(c=0;c<e.length;c+=F)if(null!=e[c])for(b=0;b<F;++b)if(A=e[c+b],(M=
t[b])&&!(A==p||A==-p))M.x&&(A<n&&(n=A),A>u&&(u=A)),M.y&&(A<Q&&(Q=A),A>R&&(R=A));f.bars.show&&(c="left"==f.bars.align?0:-f.bars.barWidth/2,f.bars.horizontal?(Q+=c,R+=c+f.bars.barWidth):(n+=c,u+=c+f.bars.barWidth));l(f.xaxis,n,u);l(f.yaxis,Q,R)}g.each(m(),function(a,b){b.datamin==k&&(b.datamin=null);b.datamax==h&&(b.datamax=null)})}function B(a,f){var c=a[f+"axis"];"object"==typeof c&&(c=c.n);"number"!=typeof c&&(c=1);return c}function m(){return g.grep(E.concat(I),function(a){return a})}function V(a){var f=
{},c,b;for(c=0;c<E.length;++c)(b=E[c])&&b.used&&(f["x"+b.n]=b.c2p(a.left));for(c=0;c<I.length;++c)(b=I[c])&&b.used&&(f["y"+b.n]=b.c2p(a.top));void 0!==f.x1&&(f.x=f.x1);void 0!==f.y1&&(f.y=f.y1);return f}function C(a,f){a[f-1]||(a[f-1]={n:f,direction:a==E?"x":"y",options:g.extend(!0,{},a==E?j.xaxis:j.yaxis)});return a[f-1]}function z(a,f){var c=document.createElement("canvas");c.className=f;c.width=G;c.height=J;a||g(c).css({position:"absolute",left:0,top:0});g(c).appendTo(l);c.getContext||(c=window.G_vmlCanvasManager.initElement(c));
c.getContext("2d").save();return c}function x(){G=l.width();J=l.height();if(0>=G||0>=J)throw"Invalid dimensions for plot, width = "+G+", height = "+J;}function H(a){a.width!=G&&(a.width=G);a.height!=J&&(a.height=J);a=a.getContext("2d");a.restore();a.save()}function na(a){var f=a.labelWidth,c=a.labelHeight,b=a.options.position,e=a.options.tickLength,d=j.grid.axisMargin,l=j.grid.labelMargin,k="x"==a.direction?E:I,h=g.grep(k,function(a){return a&&a.options.position==b&&a.reserveSpace});g.inArray(a,h)==
h.length-1&&(d=0);null==e&&(e="full");k=g.grep(k,function(a){return a&&a.reserveSpace});k=0==g.inArray(a,k);!k&&"full"==e&&(e=5);isNaN(+e)||(l+=+e);"x"==a.direction?(c+=l,"bottom"==b?(s.bottom+=c+d,a.box={top:J-s.bottom,height:c}):(a.box={top:s.top+d,height:c},s.top+=c+d)):(f+=l,"left"==b?(a.box={left:s.left+d,width:f},s.left+=f+d):(s.right+=f+d,a.box={left:G-s.right,width:f}));a.position=b;a.tickLength=e;a.box.padding=l;a.innermost=k}function ba(){var a,f=m();g.each(f,function(a,b){b.show=b.options.show;
null==b.show&&(b.show=b.used);b.reserveSpace=b.show||b.options.reserveSpace;var c=b.options,e=+(null!=c.min?c.min:b.datamin),f=+(null!=c.max?c.max:b.datamax),d=f-e;if(0==d){if(d=0==f?1:0.01,null==c.min&&(e-=d),null==c.max||null!=c.min)f+=d}else{var j=c.autoscaleMargin;null!=j&&(null==c.min&&(e-=d*j,0>e&&(null!=b.datamin&&0<=b.datamin)&&(e=0)),null==c.max&&(f+=d*j,0<f&&(null!=b.datamax&&0>=b.datamax)&&(f=0)))}b.min=e;b.max=f});allocatedAxes=g.grep(f,function(a){return a.reserveSpace});s.left=s.right=
s.top=s.bottom=0;if(j.grid.show){g.each(allocatedAxes,function(a,b){var c=b.options,e;e="number"==typeof c.ticks&&0<c.ticks?c.ticks:0.3*Math.sqrt("x"==b.direction?G:J);e=(b.max-b.min)/e;var f,d,j,k;if("time"==c.mode){var n={second:1E3,minute:6E4,hour:36E5,day:864E5,month:2592E6,year:525949.2*6E4};k=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],
[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]];f=0;null!=c.minTickSize&&(f="number"==typeof c.tickSize?c.tickSize:c.minTickSize[0]*n[c.minTickSize[1]]);for(d=0;d<k.length-1&&!(e<(k[d][0]*n[k[d][1]]+k[d+1][0]*n[k[d+1][1]])/2&&k[d][0]*n[k[d][1]]>=f);++d);f=k[d][0];j=k[d][1];"year"==j&&(d=Math.pow(10,Math.floor(Math.log(e/n.year)/Math.LN10)),k=e/n.year/d,f=(1.5>k?1:3>k?2:7.5>k?5:10)*d);b.tickSize=c.tickSize||[f,j];d=function(b){var a=[],c=
b.tickSize[0],e=b.tickSize[1],f=new Date(b.min),d=c*n[e];"second"==e&&f.setUTCSeconds(v(f.getUTCSeconds(),c));"minute"==e&&f.setUTCMinutes(v(f.getUTCMinutes(),c));"hour"==e&&f.setUTCHours(v(f.getUTCHours(),c));"month"==e&&f.setUTCMonth(v(f.getUTCMonth(),c));"year"==e&&f.setUTCFullYear(v(f.getUTCFullYear(),c));f.setUTCMilliseconds(0);d>=n.minute&&f.setUTCSeconds(0);d>=n.hour&&f.setUTCMinutes(0);d>=n.day&&f.setUTCHours(0);d>=4*n.day&&f.setUTCDate(1);d>=n.year&&f.setUTCMonth(0);var j=0,k=Number.NaN,
h;do if(h=k,k=f.getTime(),a.push(k),"month"==e)if(1>c){f.setUTCDate(1);var l=f.getTime();f.setUTCMonth(f.getUTCMonth()+1);var p=f.getTime();f.setTime(k+j*n.hour+(p-l)*c);j=f.getUTCHours();f.setUTCHours(0)}else f.setUTCMonth(f.getUTCMonth()+c);else"year"==e?f.setUTCFullYear(f.getUTCFullYear()+c):f.setTime(k+d);while(k<b.max&&k!=h);return a};f=function(b,a){var f=new Date(b);if(null!=c.timeformat)return g.plot.formatDate(f,c.timeformat,c.monthNames);var e=a.tickSize[0]*n[a.tickSize[1]],d=a.max-a.min,
j=c.twelveHourClock?" %p":"";fmt=e<n.minute?"%h:%M:%S"+j:e<n.day?d<2*n.day?"%h:%M"+j:"%b %d %h:%M"+j:e<n.month?"%b %d":e<n.year?d<n.year?"%b":"%b %y":"%y";return g.plot.formatDate(f,fmt,c.monthNames)}}else{j=c.tickDecimals;var h=-Math.floor(Math.log(e)/Math.LN10);null!=j&&h>j&&(h=j);d=Math.pow(10,-h);k=e/d;if(1.5>k)f=1;else if(3>k){if(f=2,2.25<k&&(null==j||h+1<=j))f=2.5,++h}else f=7.5>k?5:10;f*=d;null!=c.minTickSize&&f<c.minTickSize&&(f=c.minTickSize);b.tickDecimals=Math.max(0,null!=j?j:h);b.tickSize=
c.tickSize||f;d=function(b){var a=[],f=v(b.min,b.tickSize),c=0,e=Number.NaN,d;do d=e,e=f+c*b.tickSize,a.push(e),++c;while(e<b.max&&e!=d);return a};f=function(b,a){return b.toFixed(a.tickDecimals)}}if(null!=c.alignTicksWithAxis){var p=("x"==b.direction?E:I)[c.alignTicksWithAxis-1];p&&(p.used&&p!=b)&&(d=d(b),0<d.length&&(null==c.min&&(b.min=Math.min(b.min,d[0])),null==c.max&&1<d.length&&(b.max=Math.max(b.max,d[d.length-1]))),d=function(b){var a=[],f,c;for(c=0;c<p.ticks.length;++c)f=(p.ticks[c].v-p.min)/
(p.max-p.min),f=b.min+f*(b.max-b.min),a.push(f);return a},"time"!=b.mode&&null==c.tickDecimals&&(e=Math.max(0,-Math.floor(Math.log(e)/Math.LN10)+1),k=d(b),1<k.length&&/\..*0$/.test((k[1]-k[0]).toFixed(e))||(b.tickDecimals=e)))}b.tickGenerator=d;b.tickFormatter=g.isFunction(c.tickFormatter)?function(b,a){return""+c.tickFormatter(b,a)}:f;f=b.options.ticks;e=[];null==f||"number"==typeof f&&0<f?e=b.tickGenerator(b):f&&(e=g.isFunction(f)?f({min:b.min,max:b.max}):f);b.ticks=[];for(f=0;f<e.length;++f)k=
null,j=e[f],"object"==typeof j?(d=+j[0],1<j.length&&(k=j[1])):d=+j,null==k&&(k=b.tickFormatter(d,b)),isNaN(d)||b.ticks.push({v:d,label:k});e=b.ticks;b.options.autoscaleMargin&&0<e.length&&(null==b.options.min&&(b.min=Math.min(b.min,e[0].v)),null==b.options.max&&1<e.length&&(b.max=Math.max(b.max,e[e.length-1].v)));f=function(a,f){return g('<div style="position:absolute;top:-10000px;'+f+'font-size:smaller"><div class="'+b.direction+"Axis "+b.direction+b.n+'Axis">'+a.join("")+"</div></div>").appendTo(l)};
j=b.options;d=b.ticks||[];k=[];var r;e=j.labelWidth;j=j.labelHeight;if("x"==b.direction){if(null==e&&(e=Math.floor(G/(0<d.length?d.length:1))),null==j){k=[];for(h=0;h<d.length;++h)(r=d[h].label)&&k.push('<div class="tickLabel" style="float:left;width:'+e+'px">'+r+"</div>");0<k.length&&(k.push('<div style="clear:left"></div>'),f=f(k,"width:10000px;"),j=f.height(),f.remove())}}else if(null==e||null==j){for(h=0;h<d.length;++h)(r=d[h].label)&&k.push('<div class="tickLabel">'+r+"</div>");0<k.length&&(f=
f(k,""),null==e&&(e=f.children().width()),null==j&&(j=f.find("div.tickLabel").height()),f.remove())}null==e&&(e=0);null==j&&(j=0);b.labelWidth=e;b.labelHeight=j});for(a=allocatedAxes.length-1;0<=a;--a)na(allocatedAxes[a]);var c=j.grid.minBorderMargin;if(null==c)for(a=c=0;a<y.length;++a)c=Math.max(c,y[a].points.radius+y[a].points.lineWidth/2);for(var b in s)s[b]+=j.grid.borderWidth,s[b]=Math.max(c,s[b])}S=G-s.left-s.right;N=J-s.bottom-s.top;g.each(f,function(b,a){var f=function(a){return a},c,e,d=
a.options.transform||f,j=a.options.inverseTransform;"x"==a.direction?(c=a.scale=S/Math.abs(d(a.max)-d(a.min)),e=Math.min(d(a.max),d(a.min))):(c=a.scale=N/Math.abs(d(a.max)-d(a.min)),c=-c,e=Math.max(d(a.max),d(a.min)));a.p2c=d==f?function(a){return(a-e)*c}:function(a){return(d(a)-e)*c};a.c2p=j?function(a){return j(e+a/c)}:function(a){return e+a/c}});if(j.grid.show){g.each(allocatedAxes,function(a,b){"x"==b.direction?(b.box.left=s.left,b.box.width=S):(b.box.top=s.top,b.box.height=N)});l.find(".tickLabels").remove();
a=['<div class="tickLabels" style="font-size:smaller">'];f=m();for(c=0;c<f.length;++c){b=f[c];var e=b.box;if(b.show){a.push('<div class="'+b.direction+"Axis "+b.direction+b.n+'Axis" style="color:'+b.options.color+'">');for(var d=0;d<b.ticks.length;++d){var k=b.ticks[d];if(k.label&&!(k.v<b.min||k.v>b.max)){var h={},p;"x"==b.direction?(p="center",h.left=Math.round(s.left+b.p2c(k.v)-b.labelWidth/2),"bottom"==b.position?h.top=e.top+e.padding:h.bottom=J-(e.top+e.height-e.padding)):(h.top=Math.round(s.top+
b.p2c(k.v)-b.labelHeight/2),"left"==b.position?(h.right=G-(e.left+e.width-e.padding),p="right"):(h.left=e.left+e.padding,p="left"));h.width=b.labelWidth;p=["position:absolute","text-align:"+p];for(var n in h)p.push(n+":"+h[n]+"px");a.push('<div class="tickLabel" style="'+p.join(";")+'">'+k.label+"</div>")}}a.push("</div>")}}a.push("</div>");l.append(a.join(""))}l.find(".legend").remove();if(j.legend.show){n=[];a=!1;f=j.legend.labelFormatter;for(e=0;e<y.length;++e)if(c=y[e],b=c.label)0==e%j.legend.noColumns&&
(a&&n.push("</tr>"),n.push("<tr>"),a=!0),f&&(b=f(b,c)),n.push('<td class="legendColorBox"><div style="border:1px solid '+j.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+c.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+b+"</td>");a&&n.push("</tr>");0!=n.length&&(a='<table style="font-size:smaller;color:'+j.grid.color+'">'+n.join("")+"</table>",null!=j.legend.container?g(j.legend.container).html(a):(n="",f=j.legend.position,c=j.legend.margin,
null==c[0]&&(c=[c,c]),"n"==f.charAt(0)?n+="top:"+(c[1]+s.top)+"px;":"s"==f.charAt(0)&&(n+="bottom:"+(c[1]+s.bottom)+"px;"),"e"==f.charAt(1)?n+="right:"+(c[0]+s.right)+"px;":"w"==f.charAt(1)&&(n+="left:"+(c[0]+s.left)+"px;"),a=g('<div class="legend">'+a.replace('style="','style="position:absolute;'+n+";")+"</div>").appendTo(l),0!=j.legend.backgroundOpacity&&(f=j.legend.backgroundColor,null==f&&(f=(f=j.grid.backgroundColor)&&"string"==typeof f?g.color.parse(f):g.color.extract(a,"background-color"),
f.a=1,f=f.toString()),c=a.children(),g('<div style="position:absolute;width:'+c.width()+"px;height:"+c.height()+"px;"+n+"background-color:"+f+';"> </div>').prependTo(a).css("opacity",j.legend.backgroundOpacity))))}}function ca(){k.clearRect(0,0,G,J);var a=j.grid;a.show&&a.backgroundColor&&(k.save(),k.translate(s.left,s.top),k.fillStyle=da(j.grid.backgroundColor,N,0,"rgba(255, 255, 255, 0)"),k.fillRect(0,0,S,N),k.restore());a.show&&!a.aboveData&&ea();for(var f=0;f<y.length;++f){d(K.drawSeries,[k,y[f]]);
var c=y[f];c.lines.show&&oa(c);c.bars.show&&pa(c);c.points.show&&qa(c)}d(K.draw,[k]);a.show&&a.aboveData&&ea()}function fa(a,f){var c,b,e,d,j=m();for(i=0;i<j.length;++i)if(c=j[i],c.direction==f&&(d=f+c.n+"axis",!a[d]&&1==c.n&&(d=f+"axis"),a[d])){b=a[d].from;e=a[d].to;break}a[d]||(c="x"==f?E[0]:I[0],b=a[f+"1"],e=a[f+"2"]);null!=b&&(null!=e&&b>e)&&(d=b,b=e,e=d);return{from:b,to:e,axis:c}}function ea(){var a;k.save();k.translate(s.left,s.top);var f=j.grid.markings;if(f){if(g.isFunction(f)){var c=w.getAxes();
c.xmin=c.xaxis.min;c.xmax=c.xaxis.max;c.ymin=c.yaxis.min;c.ymax=c.yaxis.max;f=f(c)}for(a=0;a<f.length;++a){var c=f[a],b=fa(c,"x"),e=fa(c,"y");null==b.from&&(b.from=b.axis.min);null==b.to&&(b.to=b.axis.max);null==e.from&&(e.from=e.axis.min);null==e.to&&(e.to=e.axis.max);b.to<b.axis.min||(b.from>b.axis.max||e.to<e.axis.min||e.from>e.axis.max)||(b.from=Math.max(b.from,b.axis.min),b.to=Math.min(b.to,b.axis.max),e.from=Math.max(e.from,e.axis.min),e.to=Math.min(e.to,e.axis.max),b.from==b.to&&e.from==e.to||
(b.from=b.axis.p2c(b.from),b.to=b.axis.p2c(b.to),e.from=e.axis.p2c(e.from),e.to=e.axis.p2c(e.to),b.from==b.to||e.from==e.to?(k.beginPath(),k.strokeStyle=c.color||j.grid.markingsColor,k.lineWidth=c.lineWidth||j.grid.markingsLineWidth,k.moveTo(b.from,e.from),k.lineTo(b.to,e.to),k.stroke()):(k.fillStyle=c.color||j.grid.markingsColor,k.fillRect(b.from,e.to,b.to-b.from,e.from-e.to))))}}c=m();f=j.grid.borderWidth;for(b=0;b<c.length;++b){e=c[b];a=e.box;var d=e.tickLength,h,l,p,n;if(e.show&&0!=e.ticks.length){k.strokeStyle=
e.options.tickColor||g.color.parse(e.options.color).scale("a",0.22).toString();k.lineWidth=1;"x"==e.direction?(h=0,l="full"==d?"top"==e.position?0:N:a.top-s.top+("top"==e.position?a.height:0)):(l=0,h="full"==d?"left"==e.position?0:S:a.left-s.left+("left"==e.position?a.width:0));e.innermost||(k.beginPath(),p=n=0,"x"==e.direction?p=S:n=N,1==k.lineWidth&&(h=Math.floor(h)+0.5,l=Math.floor(l)+0.5),k.moveTo(h,l),k.lineTo(h+p,l+n),k.stroke());k.beginPath();for(a=0;a<e.ticks.length;++a){var r=e.ticks[a].v;
p=n=0;r<e.min||(r>e.max||"full"==d&&0<f&&(r==e.min||r==e.max))||("x"==e.direction?(h=e.p2c(r),n="full"==d?-N:d,"top"==e.position&&(n=-n)):(l=e.p2c(r),p="full"==d?-S:d,"left"==e.position&&(p=-p)),1==k.lineWidth&&("x"==e.direction?h=Math.floor(h)+0.5:l=Math.floor(l)+0.5),k.moveTo(h,l),k.lineTo(h+p,l+n))}k.stroke()}}f&&(k.lineWidth=f,k.strokeStyle=j.grid.borderColor,k.strokeRect(-f/2,-f/2,S+f,N+f));k.restore()}function oa(a){function f(a,b,f,c,e){var d=a.points;a=a.pointsize;var j=null,l=null;k.beginPath();
for(var h=a;h<d.length;h+=a){var n=d[h-a],p=d[h-a+1],m=d[h],g=d[h+1];if(!(null==n||null==m)){if(p<=g&&p<e.min){if(g<e.min)continue;n=(e.min-p)/(g-p)*(m-n)+n;p=e.min}else if(g<=p&&g<e.min){if(p<e.min)continue;m=(e.min-p)/(g-p)*(m-n)+n;g=e.min}if(p>=g&&p>e.max){if(g>e.max)continue;n=(e.max-p)/(g-p)*(m-n)+n;p=e.max}else if(g>=p&&g>e.max){if(p>e.max)continue;m=(e.max-p)/(g-p)*(m-n)+n;g=e.max}if(n<=m&&n<c.min){if(m<c.min)continue;p=(c.min-n)/(m-n)*(g-p)+p;n=c.min}else if(m<=n&&m<c.min){if(n<c.min)continue;
g=(c.min-n)/(m-n)*(g-p)+p;m=c.min}if(n>=m&&n>c.max){if(m>c.max)continue;p=(c.max-n)/(m-n)*(g-p)+p;n=c.max}else if(m>=n&&m>c.max){if(n>c.max)continue;g=(c.max-n)/(m-n)*(g-p)+p;m=c.max}(n!=j||p!=l)&&k.moveTo(c.p2c(n)+b,e.p2c(p)+f);j=m;l=g;k.lineTo(c.p2c(m)+b,e.p2c(g)+f)}}k.stroke()}k.save();k.translate(s.left,s.top);k.lineJoin="round";var c=a.lines.lineWidth,b=a.shadowSize;if(0<c&&0<b){k.lineWidth=b;k.strokeStyle="rgba(0,0,0,0.1)";var e=Math.PI/18;f(a.datapoints,Math.sin(e)*(c/2+b/2),Math.cos(e)*(c/
2+b/2),a.xaxis,a.yaxis);k.lineWidth=b/2;f(a.datapoints,Math.sin(e)*(c/2+b/4),Math.cos(e)*(c/2+b/4),a.xaxis,a.yaxis)}k.lineWidth=c;k.strokeStyle=a.color;if(b=Y(a.lines,a.color,0,N)){k.fillStyle=b;for(var d=a.datapoints,b=a.xaxis,e=a.yaxis,j=d.points,d=d.pointsize,h=Math.min(Math.max(0,e.min),e.max),l=0,n=!1,p=1,g=0,r=0;!(0<d&&l>j.length+d);){var l=l+d,m=j[l-d],u=j[l-d+p],t=j[l],q=j[l+p];if(n){if(0<d&&null!=m&&null==t){r=l;d=-d;p=2;continue}if(0>d&&l==g+d){k.fill();n=!1;d=-d;p=1;l=g=r+d;continue}}if(!(null==
m||null==t)){if(m<=t&&m<b.min){if(t<b.min)continue;u=(b.min-m)/(t-m)*(q-u)+u;m=b.min}else if(t<=m&&t<b.min){if(m<b.min)continue;q=(b.min-m)/(t-m)*(q-u)+u;t=b.min}if(m>=t&&m>b.max){if(t>b.max)continue;u=(b.max-m)/(t-m)*(q-u)+u;m=b.max}else if(t>=m&&t>b.max){if(m>b.max)continue;q=(b.max-m)/(t-m)*(q-u)+u;t=b.max}n||(k.beginPath(),k.moveTo(b.p2c(m),e.p2c(h)),n=!0);if(u>=e.max&&q>=e.max)k.lineTo(b.p2c(m),e.p2c(e.max)),k.lineTo(b.p2c(t),e.p2c(e.max));else if(u<=e.min&&q<=e.min)k.lineTo(b.p2c(m),e.p2c(e.min)),
k.lineTo(b.p2c(t),e.p2c(e.min));else{var z=m,B=t;u<=q&&u<e.min&&q>=e.min?(m=(e.min-u)/(q-u)*(t-m)+m,u=e.min):q<=u&&(q<e.min&&u>=e.min)&&(t=(e.min-u)/(q-u)*(t-m)+m,q=e.min);u>=q&&u>e.max&&q<=e.max?(m=(e.max-u)/(q-u)*(t-m)+m,u=e.max):q>=u&&(q>e.max&&u<=e.max)&&(t=(e.max-u)/(q-u)*(t-m)+m,q=e.max);m!=z&&k.lineTo(b.p2c(z),e.p2c(u));k.lineTo(b.p2c(m),e.p2c(u));k.lineTo(b.p2c(t),e.p2c(q));t!=B&&(k.lineTo(b.p2c(t),e.p2c(q)),k.lineTo(b.p2c(B),e.p2c(q)))}}}}0<c&&f(a.datapoints,0,0,a.xaxis,a.yaxis);k.restore()}
function qa(a){function f(a,b,c,f,e,d,j,p){var l=a.points;a=a.pointsize;for(var h=0;h<l.length;h+=a){var m=l[h],g=l[h+1];null==m||(m<d.min||m>d.max||g<j.min||g>j.max)||(k.beginPath(),m=d.p2c(m),g=j.p2c(g)+f,"circle"==p?k.arc(m,g,b,0,e?Math.PI:2*Math.PI,!1):p(k,m,g,b,e),k.closePath(),c&&(k.fillStyle=c,k.fill()),k.stroke())}}k.save();k.translate(s.left,s.top);var c=a.points.lineWidth,b=a.shadowSize,e=a.points.radius,d=a.points.symbol;0<c&&0<b&&(b/=2,k.lineWidth=b,k.strokeStyle="rgba(0,0,0,0.1)",f(a.datapoints,
e,null,b+b/2,!0,a.xaxis,a.yaxis,d),k.strokeStyle="rgba(0,0,0,0.2)",f(a.datapoints,e,null,b/2,!0,a.xaxis,a.yaxis,d));k.lineWidth=c;k.strokeStyle=a.color;f(a.datapoints,e,Y(a.points,a.color),0,!1,a.xaxis,a.yaxis,d);k.restore()}function ga(a,f,c,b,e,d,j,k,p,n,h,l){var m,g,q,r;h?(r=g=q=!0,m=!1,h=c,c=f+b,e=f+e,a<h&&(f=a,a=h,h=f,m=!0,g=!1)):(m=g=q=!0,r=!1,h=a+b,a+=e,e=c,c=f,c<e&&(f=c,c=e,e=f,r=!0,q=!1));if(!(a<k.min||h>k.max||c<p.min||e>p.max))if(h<k.min&&(h=k.min,m=!1),a>k.max&&(a=k.max,g=!1),e<p.min&&
(e=p.min,r=!1),c>p.max&&(c=p.max,q=!1),h=k.p2c(h),e=p.p2c(e),a=k.p2c(a),c=p.p2c(c),j&&(n.beginPath(),n.moveTo(h,e),n.lineTo(h,c),n.lineTo(a,c),n.lineTo(a,e),n.fillStyle=j(e,c),n.fill()),0<l&&(m||g||q||r))n.beginPath(),n.moveTo(h,e+d),m?n.lineTo(h,c+d):n.moveTo(h,c+d),q?n.lineTo(a,c+d):n.moveTo(a,c+d),g?n.lineTo(a,e+d):n.moveTo(a,e+d),r?n.lineTo(h,e+d):n.moveTo(h,e+d),n.stroke()}function pa(a){k.save();k.translate(s.left,s.top);k.lineWidth=a.bars.lineWidth;k.strokeStyle=a.color;for(var f="left"==a.bars.align?
0:-a.bars.barWidth/2,c=a.datapoints,b=f+a.bars.barWidth,e=a.bars.fill?function(b,c){return Y(a.bars,a.color,b,c)}:null,d=a.xaxis,j=a.yaxis,h=c.points,c=c.pointsize,p=0;p<h.length;p+=c)null!=h[p]&&ga(h[p],h[p+1],h[p+2],f,b,0,e,d,j,k,a.bars.horizontal,a.bars.lineWidth);k.restore()}function Y(a,f,c,b){var e=a.fill;if(!e)return null;if(a.fillColor)return da(a.fillColor,c,b,f);a=g.color.parse(f);a.a="number"==typeof e?e:0.4;a.normalize();return a.toString()}function ha(a){j.grid.hoverable&&Z("plothover",
a,function(a){return!1!=a.hoverable})}function ia(a){j.grid.hoverable&&Z("plothover",a,function(){return!1})}function ja(a){Z("plotclick",a,function(a){return!1!=a.clickable})}function Z(a,f,c){var b=L.offset(),e=f.pageX-b.left-s.left,d=f.pageY-b.top-s.top,h=V({left:e,top:d});h.pageX=f.pageX;h.pageY=f.pageY;f=j.grid.mouseActiveRadius;var p=f*f+1,k=null,n,m;for(n=y.length-1;0<=n;--n)if(c(y[n])){var g=y[n],q=g.xaxis,r=g.yaxis,u=g.datapoints.points,t=g.datapoints.pointsize,z=q.c2p(e),B=r.c2p(d),v=f/
q.scale,C=f/r.scale;q.options.inverseTransform&&(v=Number.MAX_VALUE);r.options.inverseTransform&&(C=Number.MAX_VALUE);if(g.lines.show||g.points.show)for(m=0;m<u.length;m+=t){var w=u[m],x=u[m+1];if(null!=w&&!(w-z>v||w-z<-v||x-B>C||x-B<-C))w=Math.abs(q.p2c(w)-e),x=Math.abs(r.p2c(x)-d),x=w*w+x*x,x<p&&(p=x,k=[n,m/t])}if(g.bars.show&&!k){q="left"==g.bars.align?0:-g.bars.barWidth/2;g=q+g.bars.barWidth;for(m=0;m<u.length;m+=t)if(w=u[m],x=u[m+1],r=u[m+2],null!=w&&(y[n].bars.horizontal?z<=Math.max(r,w)&&z>=
Math.min(r,w)&&B>=x+q&&B<=x+g:z>=w+q&&z<=w+g&&B>=Math.min(r,x)&&B<=Math.max(r,x)))k=[n,m/t]}}k?(n=k[0],m=k[1],t=y[n].datapoints.pointsize,c={datapoint:y[n].datapoints.points.slice(m*t,(m+1)*t),dataIndex:m,series:y[n],seriesIndex:n}):c=null;c&&(c.pageX=parseInt(c.series.xaxis.p2c(c.datapoint[0])+b.left+s.left),c.pageY=parseInt(c.series.yaxis.p2c(c.datapoint[1])+b.top+s.top));if(j.grid.autoHighlight){for(b=0;b<P.length;++b)e=P[b],e.auto==a&&(!c||!(e.series==c.series&&e.point[0]==c.datapoint[0]&&e.point[1]==
c.datapoint[1]))&&ka(e.series,e.point);c&&la(c.series,c.datapoint,a)}l.trigger(a,[h,c])}function X(){W||(W=setTimeout(ra,30))}function ra(){W=null;D.save();D.clearRect(0,0,G,J);D.translate(s.left,s.top);var a,f;for(a=0;a<P.length;++a)if(f=P[a],f.series.bars.show)sa(f.series,f.point);else{var c=f.series,b=f.point;f=b[0];var b=b[1],e=c.xaxis,j=c.yaxis;if(!(f<e.min||f>e.max||b<j.min||b>j.max)){var h=c.points.radius+c.points.lineWidth/2;D.lineWidth=h;D.strokeStyle=g.color.parse(c.color).scale("a",0.5).toString();
h*=1.5;f=e.p2c(f);b=j.p2c(b);D.beginPath();"circle"==c.points.symbol?D.arc(f,b,h,0,2*Math.PI,!1):c.points.symbol(D,f,b,h,!1);D.closePath();D.stroke()}}D.restore();d(K.drawOverlay,[D])}function la(a,f,c){"number"==typeof a&&(a=y[a]);if("number"==typeof f){var b=a.datapoints.pointsize;f=a.datapoints.points.slice(b*f,b*(f+1))}b=ma(a,f);-1==b?(P.push({series:a,point:f,auto:c}),X()):c||(P[b].auto=!1)}function ka(a,f){null==a&&null==f&&(P=[],X());"number"==typeof a&&(a=y[a]);"number"==typeof f&&(f=a.data[f]);
var c=ma(a,f);-1!=c&&(P.splice(c,1),X())}function ma(a,f){for(var c=0;c<P.length;++c){var b=P[c];if(b.series==a&&b.point[0]==f[0]&&b.point[1]==f[1])return c}return-1}function sa(a,f){D.lineWidth=a.bars.lineWidth;D.strokeStyle=g.color.parse(a.color).scale("a",0.5).toString();var c=g.color.parse(a.color).scale("a",0.5).toString(),b="left"==a.bars.align?0:-a.bars.barWidth/2;ga(f[0],f[1],f[2]||0,b,b+a.bars.barWidth,0,function(){return c},a.xaxis,a.yaxis,D,a.bars.horizontal,a.bars.lineWidth)}function da(a,
f,c,b){if("string"==typeof a)return a;f=k.createLinearGradient(0,c,0,f);c=0;for(var e=a.colors.length;c<e;++c){var d=a.colors[c];if("string"!=typeof d){var j=g.color.parse(b);null!=d.brightness&&(j=j.scale("rgb",d.brightness));null!=d.opacity&&(j.a*=d.opacity);d=j.toString()}f.addColorStop(c/(e-1),d)}return f}var y=[],j={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,
backgroundOpacity:0.85},xaxis:{show:null,position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,
fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},shadowSize:3},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},hooks:{}},T=null,U=null,
L=null,k=null,D=null,E=[],I=[],s={left:0,right:0,top:0,bottom:0},G=0,J=0,S=0,N=0,K={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},w=this;w.setData=p;w.setupGrid=ba;w.draw=ca;w.getPlaceholder=function(){return l};w.getCanvas=function(){return T};w.getPlotOffset=function(){return s};w.width=function(){return S};w.height=function(){return N};w.offset=function(){var a=L.offset();a.left+=s.left;a.top+=s.top;return a};w.getData=
function(){return y};w.getAxes=function(){var a={};g.each(E.concat(I),function(f,c){c&&(a[c.direction+(1!=c.n?c.n:"")+"axis"]=c)});return a};w.getXAxes=function(){return E};w.getYAxes=function(){return I};w.c2p=V;w.p2c=function(a){var f={},c,b,e;for(c=0;c<E.length;++c)if((b=E[c])&&b.used)if(e="x"+b.n,null==a[e]&&1==b.n&&(e="x"),null!=a[e]){f.left=b.p2c(a[e]);break}for(c=0;c<I.length;++c)if((b=I[c])&&b.used)if(e="y"+b.n,null==a[e]&&1==b.n&&(e="y"),null!=a[e]){f.top=b.p2c(a[e]);break}return f};w.getOptions=
function(){return j};w.highlight=la;w.unhighlight=ka;w.triggerRedrawOverlay=X;w.pointOffset=function(a){return{left:parseInt(E[B(a,"x")-1].p2c(+a.x)+s.left),top:parseInt(I[B(a,"y")-1].p2c(+a.y)+s.top)}};w.shutdown=function(){W&&clearTimeout(W);L.unbind("mousemove",ha);L.unbind("mouseleave",ia);L.unbind("click",ja);d(K.shutdown,[L])};w.resize=function(){x();H(T);H(U)};w.hooks=K;for(var $=0;$<h.length;++$){var aa=h[$];aa.init(w);aa.options&&g.extend(!0,j,aa.options)}g.extend(!0,j,r);null==j.xaxis.color&&
(j.xaxis.color=j.grid.color);null==j.yaxis.color&&(j.yaxis.color=j.grid.color);null==j.xaxis.tickColor&&(j.xaxis.tickColor=j.grid.tickColor);null==j.yaxis.tickColor&&(j.yaxis.tickColor=j.grid.tickColor);null==j.grid.borderColor&&(j.grid.borderColor=j.grid.color);null==j.grid.tickColor&&(j.grid.tickColor=g.color.parse(j.grid.color).scale("a",0.22).toString());for(r=0;r<Math.max(1,j.xaxes.length);++r)j.xaxes[r]=g.extend(!0,{},j.xaxis,j.xaxes[r]);for(r=0;r<Math.max(1,j.yaxes.length);++r)j.yaxes[r]=g.extend(!0,
{},j.yaxis,j.yaxes[r]);j.xaxis.noTicks&&null==j.xaxis.ticks&&(j.xaxis.ticks=j.xaxis.noTicks);j.yaxis.noTicks&&null==j.yaxis.ticks&&(j.yaxis.ticks=j.yaxis.noTicks);j.x2axis&&(j.xaxes[1]=g.extend(!0,{},j.xaxis,j.x2axis),j.xaxes[1].position="top");j.y2axis&&(j.yaxes[1]=g.extend(!0,{},j.yaxis,j.y2axis),j.yaxes[1].position="right");j.grid.coloredAreas&&(j.grid.markings=j.grid.coloredAreas);j.grid.coloredAreasColor&&(j.grid.markingsColor=j.grid.coloredAreasColor);j.lines&&g.extend(!0,j.series.lines,j.lines);
j.points&&g.extend(!0,j.series.points,j.points);j.bars&&g.extend(!0,j.series.bars,j.bars);null!=j.shadowSize&&(j.series.shadowSize=j.shadowSize);for(r=0;r<j.xaxes.length;++r)C(E,r+1).options=j.xaxes[r];for(r=0;r<j.yaxes.length;++r)C(I,r+1).options=j.yaxes[r];for(var O in K)j.hooks[O]&&j.hooks[O].length&&(K[O]=K[O].concat(j.hooks[O]));d(K.processOptions,[j]);O=l.children("canvas.base");r=l.children("canvas.overlay");0==O.length||0==r?(l.html(""),l.css({padding:0}),"static"==l.css("position")&&l.css("position",
"relative"),x(),T=z(!0,"base"),U=z(!1,"overlay"),O=!1):(T=O.get(0),U=r.get(0),O=!0);k=T.getContext("2d");D=U.getContext("2d");L=g([U,T]);O&&(l.data("plot").shutdown(),w.resize(),D.clearRect(0,0,G,J),L.unbind(),l.children().not([T,U]).remove());l.data("plot",w);p(q);ba();ca();j.grid.hoverable&&(L.mousemove(ha),L.mouseleave(ia));j.grid.clickable&&L.click(ja);d(K.bindEvents,[L]);var P=[],W=null}function v(g,q){return q*Math.floor(g/q)}g.plot=function(l,q,r){return new C(g(l),q,r,g.plot.plugins)};g.plot.version=
"0.7";g.plot.plugins=[];g.plot.formatDate=function(g,q,r){var h=function(d){d=""+d;return 1==d.length?"0"+d:d},d=[],p=!1,B=!1,m=g.getUTCHours(),v=12>m;null==r&&(r="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));-1!=q.search(/%p|%P/)&&(12<m?m-=12:0==m&&(m=12));for(var C=0;C<q.length;++C){var z=q.charAt(C);if(p){switch(z){case "h":z=""+m;break;case "H":z=h(m);break;case "M":z=h(g.getUTCMinutes());break;case "S":z=h(g.getUTCSeconds());break;case "d":z=""+g.getUTCDate();break;case "m":z=
""+(g.getUTCMonth()+1);break;case "y":z=""+g.getUTCFullYear();break;case "b":z=""+r[g.getUTCMonth()];break;case "p":z=v?"am":"pm";break;case "P":z=v?"AM":"PM";break;case "0":z="",B=!0}z&&B&&(z=h(z),B=!1);d.push(z);B||(p=!1)}else"%"==z?p=!0:d.push(z)}return d.join("")}})(jQuery);(function(g){g.plot.plugins.push({init:function(g){function v(){!q.locked&&-1!=q.x&&(q.x=-1,g.triggerRedrawOverlay())}function l(l){if(!q.locked)if(g.getSelection&&g.getSelection())q.x=-1;else{var h=g.offset();q.x=Math.max(0,Math.min(l.pageX-h.left,g.width()));q.y=Math.max(0,Math.min(l.pageY-h.top,g.height()));g.triggerRedrawOverlay()}}var q={x:-1,y:-1,locked:!1};g.setCrosshair=function(l){l?(l=g.p2c(l),q.x=Math.max(0,Math.min(l.left,g.width())),q.y=Math.max(0,Math.min(l.top,g.height()))):q.x=-1;
g.triggerRedrawOverlay()};g.clearCrosshair=g.setCrosshair;g.lockCrosshair=function(l){l&&g.setCrosshair(l);q.locked=!0};g.unlockCrosshair=function(){q.locked=!1};g.hooks.bindEvents.push(function(g,h){g.getOptions().crosshair.mode&&(h.mouseout(v),h.mousemove(l))});g.hooks.drawOverlay.push(function(g,h){var d=g.getOptions().crosshair;if(d.mode){var p=g.getPlotOffset();h.save();h.translate(p.left,p.top);-1!=q.x&&(h.strokeStyle=d.color,h.lineWidth=d.lineWidth,h.lineJoin="round",h.beginPath(),-1!=d.mode.indexOf("x")&&
(h.moveTo(q.x,0),h.lineTo(q.x,g.height())),-1!=d.mode.indexOf("y")&&(h.moveTo(0,q.y),h.lineTo(g.width(),q.y)),h.stroke());h.restore()}});g.hooks.shutdown.push(function(g,h){h.unbind("mouseout",v);h.unbind("mousemove",l)})},options:{crosshair:{mode:null,color:"rgba(170, 0, 0, 0.80)",lineWidth:1}},name:"crosshair",version:"1.0"})})(jQuery);(function(g){function C(){var d=document.createElement("div");return"undefined"!=typeof d.style.MozTransition||"undefined"!=typeof d.style.OTransition||"undefined"!=typeof d.style.webkitTransition||"undefined"!=typeof d.style.transition}function v(d,g,h,m,l){this.axisName=d;this.position=g;this.padding=h;this.plot=m;this.opts=l;this.height=this.width=0}function l(d,g,h,m,l){v.prototype.constructor.call(this,d,g,h,m,l)}function q(d,g,h,m,l){v.prototype.constructor.call(this,d,g,h,m,l)}function r(d,
g,h,m,l){q.prototype.constructor.call(this,d,g,h,m,l)}function h(d,g,h,m,l){r.prototype.constructor.call(this,d,g,h,m,l);this.requiresResize=!1}l.prototype=new v;l.prototype.constructor=l;l.prototype.calculateSize=function(){this.opts.axisLabelFontSizePixels||(this.opts.axisLabelFontSizePixels=14);this.opts.axisLabelFontFamily||(this.opts.axisLabelFontFamily="sans-serif");"left"==this.position||"right"==this.position?(this.width=this.opts.axisLabelFontSizePixels+this.padding,this.height=0):(this.width=
0,this.height=this.opts.axisLabelFontSizePixels+this.padding)};l.prototype.draw=function(d){var g=this.plot.getCanvas().getContext("2d");g.save();g.font=this.opts.axisLabelFontSizePixels+"px "+this.opts.axisLabelFontFamily;var h=g.measureText(this.opts.axisLabel).width,m=this.opts.axisLabelFontSizePixels,l,q,r=0;"top"==this.position?(l=d.left+d.width/2-h/2,q=d.top+0.72*m):"bottom"==this.position?(l=d.left+d.width/2-h/2,q=d.top+d.height-0.72*m):"left"==this.position?(l=d.left+0.72*m,q=d.height/2+d.top+
h/2,r=-Math.PI/2):"right"==this.position&&(l=d.left+d.width-0.72*m,q=d.height/2+d.top-h/2,r=Math.PI/2);g.translate(l,q);g.rotate(r);g.fillText(this.opts.axisLabel,0,0);g.restore()};q.prototype=new v;q.prototype.constructor=q;q.prototype.calculateSize=function(){var d=g('<div class="axisLabels" style="position:absolute;">'+this.opts.axisLabel+"</div>");this.plot.getPlaceholder().append(d);this.labelWidth=d.outerWidth(!0);this.labelHeight=d.outerHeight(!0);d.remove();this.width=this.height=0;"left"==
this.position||"right"==this.position?this.width=this.labelWidth+this.padding:this.height=this.labelHeight+this.padding};q.prototype.draw=function(d){this.plot.getPlaceholder().find("#"+this.axisName+"Label").remove();var h=g('<div id="'+this.axisName+'Label" " class="axisLabels" style="position:absolute;">'+this.opts.axisLabel+"</div>");this.plot.getPlaceholder().append(h);"top"==this.position?(h.css("left",d.left+d.width/2-this.labelWidth/2+"px"),h.css("top",d.top+"px")):"bottom"==this.position?
(h.css("left",d.left+d.width/2-this.labelWidth/2+"px"),h.css("top",d.top+d.height-this.labelHeight+"px")):"left"==this.position?(h.css("top",d.top+d.height/2-this.labelHeight/2+"px"),h.css("left",d.left+"px")):"right"==this.position&&(h.css("top",d.top+d.height/2-this.labelHeight/2+"px"),h.css("left",d.left+d.width-this.labelWidth+"px"))};r.prototype=new q;r.prototype.constructor=r;r.prototype.calculateSize=function(){q.prototype.calculateSize.call(this);this.width=this.height=0;"left"==this.position||
"right"==this.position?this.width=this.labelHeight+this.padding:this.height=this.labelHeight+this.padding};r.prototype.transforms=function(d,g,h){var m={"-moz-transform":"","-webkit-transform":"","-o-transform":"","-ms-transform":""};if(0!=g||0!=h)g=" translate("+g+"px, "+h+"px)",m["-moz-transform"]+=g,m["-webkit-transform"]+=g,m["-o-transform"]+=g,m["-ms-transform"]+=g;0!=d&&(d=" rotate("+d+"deg)",m["-moz-transform"]+=d,m["-webkit-transform"]+=d,m["-o-transform"]+=d,m["-ms-transform"]+=d);d="top: 0; left: 0; ";
for(var l in m)m[l]&&(d+=l+":"+m[l]+";");return d+";"};r.prototype.calculateOffsets=function(d){var g={x:0,y:0,degrees:0};"bottom"==this.position?(g.x=d.left+d.width/2-this.labelWidth/2,g.y=d.top+d.height-this.labelHeight):"top"==this.position?(g.x=d.left+d.width/2-this.labelWidth/2,g.y=d.top):"left"==this.position?(g.degrees=-90,g.x=d.left-this.labelWidth/2+this.labelHeight/2,g.y=d.height/2+d.top):"right"==this.position&&(g.degrees=90,g.x=d.left+d.width-this.labelWidth/2-this.labelHeight/2,g.y=d.height/
2+d.top);return g};r.prototype.draw=function(d){this.plot.getPlaceholder().find("."+this.axisName+"Label").remove();d=this.calculateOffsets(d);d=g('<div class="axisLabels '+this.axisName+'Label" style="position:absolute; color: '+this.opts.color+"; "+this.transforms(d.degrees,d.x,d.y)+'">'+this.opts.axisLabel+"</div>");this.plot.getPlaceholder().append(d)};h.prototype=new r;h.prototype.constructor=h;h.prototype.transforms=function(d,g,h){var m="";if(0!=d){for(d/=90;0>d;)d+=4;m+=" filter: progid:DXImageTransform.Microsoft.BasicImage(rotation="+
d+"); ";this.requiresResize="right"==this.position}0!=g&&(m+="left: "+g+"px; ");0!=h&&(m+="top: "+h+"px; ");return m};h.prototype.calculateOffsets=function(d){var g=r.prototype.calculateOffsets.call(this,d);"top"==this.position?g.y=d.top+1:"left"==this.position?(g.x=d.left,g.y=d.height/2+d.top-this.labelWidth/2):"right"==this.position&&(g.x=d.left+d.width-this.labelHeight,g.y=d.height/2+d.top-this.labelWidth/2);return g};h.prototype.draw=function(d){r.prototype.draw.call(this,d);this.requiresResize&&
(d=this.plot.getPlaceholder().find("."+this.axisName+"Label"),d.css("width",this.labelWidth),d.css("height",this.labelHeight))};g.plot.plugins.push({init:function(d){var p=!1,v={};d.hooks.draw.push(function(d){var V=!1;p?g.each(d.getAxes(),function(g,h){var l=h.options||d.getOptions()[g];l&&(l.axisLabel&&h.show)&&v[g].draw(h.box)}):(g.each(d.getAxes(),function(g,p){var x=p.options||d.getOptions()[g];if(x&&x.axisLabel&&p.show){V=!0;var H=null;if(!x.axisLabelUseHtml&&"Microsoft Internet Explorer"==
navigator.appName)null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(rv=parseFloat(RegExp.$1)),H=9<=rv&&!x.axisLabelUseCanvas&&!x.axisLabelUseHtml?r:!x.axisLabelUseCanvas&&!x.axisLabelUseHtml?h:x.axisLabelUseCanvas?l:q;else{if(!(H=x.axisLabelUseHtml)){if(H=!C())H=document.createElement("canvas").getContext?"function"==typeof document.createElement("canvas").getContext("2d").fillText:!1,H=!H;H=H&&!x.axisLabelUseCanvas}H=H?q:x.axisLabelUseCanvas||!C()?l:r}v[g]=new H(g,p.position,void 0===
x.axisLabelPadding?2:x.axisLabelPadding,d,x);v[g].calculateSize();p.labelHeight+=v[g].height;p.labelWidth+=v[g].width;x.labelHeight=p.labelHeight;x.labelWidth=p.labelWidth}}),V&&(p=!0,d.setupGrid(),d.draw()))})},options:{},name:"axisLabels",version:"2.0b0"})})(jQuery);
